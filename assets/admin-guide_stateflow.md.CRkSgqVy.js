import{_ as s,c as i,a1 as l,o as t}from"./chunks/framework.D74g-0xE.js";const m=JSON.parse('{"title":"业务流程","description":"","frontmatter":{},"headers":[],"relativePath":"admin-guide/stateflow.md","filePath":"admin-guide/stateflow.md"}'),e={name:"admin-guide/stateflow.md"};function n(r,a,p,o,c,d){return t(),i("div",null,a[0]||(a[0]=[l('<h1 id="业务流程" tabindex="-1">业务流程 <a class="header-anchor" href="#业务流程" aria-label="Permalink to &quot;业务流程&quot;">​</a></h1><p>在【管理后台】找到【业务流程】入口，点击进入业务流程列表页面</p><p>点击右上角【新建业务流程】，进入业务流程设置页面，完成“基本信息、状态定义、流转设置”三个环节的设置，点击右上角【发布更新】完成新建。</p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-076.png" alt=""></p><h2 id="基本信息" tabindex="-1">基本信息 <a class="header-anchor" href="#基本信息" aria-label="Permalink to &quot;基本信息&quot;">​</a></h2><ul><li>业务流程名称：用于标识业务流程。</li><li>选择应用：配置当前业务流程对应的应用。</li><li>选择适用范围：可设置“用户、部门、角色”等选择特定范围的用户，作为业务流程适用的范围，默认范围为“全公司”。只有使用范围内的用户在此应用下新建、编辑数据才会触发进入业务流程。</li><li>流程管理员：流程管理员不受流程规则限制，拥有数据的编辑等操作权限，同时可对该流程下的数据进行“重置流程”的操作，即将该条数据的业务流程回退至初始状态。</li><li>业务流程说明：补充说明当前业务流程的作用、注意事项等。</li><li>流程触发条件：添加组合过滤条件，新建此应用下数据时，只有达到配置的条件，才会触发业务流程。</li></ul><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-077.png" alt=""></p><h2 id="状态定义" tabindex="-1">状态定义 <a class="header-anchor" href="#状态定义" aria-label="Permalink to &quot;状态定义&quot;">​</a></h2><p>点击业务流程设置页面顶部tab【状态定义】，进入状态定义设置页面。应用下的每条数据代表现实中的某一个事项，在业务流程中定义流程状态，用于反应每件事从开始到结束整个过程中的关键节点。</p><p>业务流程状态分为以下三类</p><ul><li>起始状态：必须设置一个启始状态</li><li>中间状态：可设置若干个中间状态，也可以没有中间状态</li><li>结束状态：结束状态又分成成功和失败状态，必须设置一个成功或失败的结束状态，也可以设置多个结束状态</li></ul><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-078.png" alt=""></p><p><strong>添加状态</strong> - 点击状态列表左下角【添加状态】，输入状态名称，点击【添加】按钮，完成新状态的添加，勾选刚添加完成的“状态”，再点击【确定】按钮，将状态添加到当前业务流程的状态列表（由于每个应用支持设置多个业务流程，但会公用相同状态选项，因此添加新状态的操作分为两步，第一步为整个应用添加一个新状态，第二步将添加好的状态添加到当前业务流程上。</p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-079.png" alt=""></p><p><strong>修改状态名称</strong> - 鼠标 hover 至状态名称，右侧展示【编辑】图标，点击可在输入框中直接修改状态名称。</p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-080.png" alt=""></p><p><strong>修改状态颜色</strong> - 不同状态颜色更方便用户在列表快速识别和区分，点击状态名称左侧【颜色】图标，修改状态颜色。</p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-081.png" alt=""></p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-082.png" alt=""></p><p><strong>调整状态排序</strong> - 点击状态列表左侧【拖拽】图标，按住上下拖动调整状态排序。</p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-083.png" alt=""></p><p><strong>删除状态</strong> - 点击状态列表右侧【删除】按钮，在当前业务流程中删除状态。如果需要删除整个应用的状态，需要点击【添加状态】按钮，点击隐藏状态列表的【删除】图标，发布更新后才能删除状态。</p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-084.png" alt=""></p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-085.png" alt=""></p><h2 id="状态设置" tabindex="-1">状态设置 <a class="header-anchor" href="#状态设置" aria-label="Permalink to &quot;状态设置&quot;">​</a></h2><p>点击业务流程设置页面顶部tab【流转设置】，进入流转设置页面。</p><p>系统支持状态流转规则的灵活设置，包括常规的“正向相邻状态线性流转”，也支持“反向状态回退流转、以及任意不相邻状态的相互流转”。</p><p>系统按照【状态定义】列表中的添加的状态和排序规则，分别生成对应的行和列，形成状态流转设置表格，每两个状态横纵交叉形成的单元格中设置这两个状态之间的流转规则。</p><p>在两个状态的单元格勾选，即表示状态可以从左向右流转。勾选后右侧会展示【设置】按钮，点击流转规则设置页面，可设置“手动”或“自动”流转规则。</p><p><strong>设置手动流转规则</strong> 点击弹窗顶部【手动流转】tab，手动流转规则设置如下</p><ul><li>点击【启用】按钮表示支持用户在【数据详情页】手动点击【状态按钮】来完成流转。</li><li>字段条件配置：可设置流转时需要填写的字段等判断条件，用于限定用户在流转时必须提交对应的信息。例如销售合同流转至“已签约”时，需要填写“合同签订时间”上传“合同双签扫描件”。</li><li>用户权限配置：可设置操作流转的用户权限范围，不设置则默认所有能查看数据的用户可以操作流转，添加用户范围后，只有特定范围的用户拥有流转操作权限。</li><li>审批条件配置：可设置手动点击状态按钮提交流转后，发起审批。可新增、编辑、删除审批规则，以及设置审批规则的“启用 / 禁用”</li></ul><p><strong>设置自动流转规则</strong> 点击弹窗顶部【自动流转】tab，自动流转规则设置如下</p><ul><li>字段条件配置：可设置自动流转的判断条件，当条件满足时，系统会自动执行状态流转。</li><li>审批条件配置：可设置审批规则，该审批规则会在“字段条件配置”满足时自动触发审批，审批通过后自动执行状态流转。可新增、编辑、删除审批规则，以及设置审批规则的“启用 / 禁用”</li></ul><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-086.png" alt=""></p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-087.png" alt=""></p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-088.png" alt=""></p><h2 id="发布流程" tabindex="-1">发布流程 <a class="header-anchor" href="#发布流程" aria-label="Permalink to &quot;发布流程&quot;">​</a></h2><p>业务流程规则设置完毕后，点击页面右上角【发布更新】即可发布更新流程规则。</p><h2 id="业务流程多版本管理" tabindex="-1">业务流程多版本管理 <a class="header-anchor" href="#业务流程多版本管理" aria-label="Permalink to &quot;业务流程多版本管理&quot;">​</a></h2><p>每次更新业务流程规则并发布更新后会生成新的流程版本，新的流程版本发布后只会适用于新创建的数据，对历史数据不会生效，历史数据通常会存在以下三种情况</p><ul><li>尚未进入流程的历史数据，没有执行任何版本的流程</li><li>正在执行旧版本业务流程的历史数据，仍然按照旧版本流程规则执行</li><li>已经处在结束状态的历史数据，也不会被影响</li></ul><p>现实业务需求可能经常会希望新版流程规发布后，历史数据也希望按新的流程规则去执行，那么可通过【批量刷新历史数据】的功能，将历史数据的流程状态重置到初始状态来解决。</p><p>点击业务流程列表右侧【刷新历史数据】按钮，在弹窗中选择需要刷新上述三种历史数据范围，点击确定即可由系统自动执行批量刷新的操作，数据量大的情况下，批量刷新处理通常需要等待几分钟的时间，同时为了避免频繁刷新导致不同规则执行次序上的冲突，系统会限定刷新操作的频次，5分钟内只允许操作一次。</p><p>也可以在应用端数据列表页或详情页，选择单条或多条数据，手动操作“重置流程”。</p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-089.png" alt=""></p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-090.png" alt=""></p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-091.png" alt=""></p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-092.png" alt=""></p><h2 id="数据锁定规则设置" tabindex="-1">数据锁定规则设置 <a class="header-anchor" href="#数据锁定规则设置" aria-label="Permalink to &quot;数据锁定规则设置&quot;">​</a></h2><p>点击业务流程设置页面顶部 tab【状态】，进入状态定义页面。</p><p>选择某个流程状态，点击列表右侧【数据锁定】图标，在弹窗中设置锁定规则</p><p>打开启用【开关】表示当前状态下，数据会被锁定，数据锁定支持按以下规则进行灵活设置</p><ul><li>当前应用数据不允许编辑和删除</li><li>当前应用数据锁定的情况下，允许部分用户编辑全部或部分字段</li><li>特定范围的关联从应用数据不允许新增、编辑和删除</li><li>特定范围的关联从应用数据锁定的情况下，允许部分用户“新增、编辑、删除”</li></ul><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-093.png" alt=""></p><p><img src="//swstatic.saleswork.cn/docs/usermanual/admin-guide-094.png" alt=""></p><blockquote><p>应用示例 销售合同签约后，不允许</p></blockquote><h2 id="业务流程sop设置" tabindex="-1">业务流程SOP设置 <a class="header-anchor" href="#业务流程sop设置" aria-label="Permalink to &quot;业务流程SOP设置&quot;">​</a></h2><h2 id="修订审批规则设置" tabindex="-1">修订审批规则设置 <a class="header-anchor" href="#修订审批规则设置" aria-label="Permalink to &quot;修订审批规则设置&quot;">​</a></h2>',58)]))}const g=s(e,[["render",n]]);export{m as __pageData,g as default};
